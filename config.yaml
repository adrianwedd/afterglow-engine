# Global audio settings
global:
  sample_rate: 44100          # Sample rate in Hz for all output
  output_bit_depth: 24        # 16 or 24-bit WAV output
  target_peak_dbfs: -1.0      # Target peak level for normalization

# Directory paths
paths:
  source_audio_dir: source_audio
  pad_sources_dir: pad_sources
  drums_dir: drums
  export_dir: export/tr8s

# Pad miner settings (sustained segment extraction)
pad_miner:
  target_durations_sec: [2.0, 3.5]      # Target pad durations (seconds) - can be multiple
  min_rms_db: -40.0                     # Minimum RMS level (dB)
  max_rms_db: -10.0                     # Maximum RMS level (dB) - too loud = reject
  max_onset_rate_per_second: 3.0        # Max onsets/sec (too high = too percussive)
  spectral_flatness_threshold: 0.5      # Lower = more tonal (0-1 scale)
  max_candidates_per_file: 3            # How many pads to extract per source file
  loop_crossfade_ms: 100                # Crossfade length for loop smoothing (ms)
  window_hop_sec: 0.5                   # Hop size for sliding window analysis

# Drone / pad / swell maker settings
drones:
  # Pad loop parameters
  pad_loop_duration_sec: 2.0            # Target duration for loopable pads
  pad_variants:
    - warm                               # Low-pass filtered variant
    - airy                               # High-pass filtered variant
    - dark                               # Darker, more low-end

  # Tonal filtering for variants
  warm_lowpass_hz: 3000                 # Warm variant: low-pass cutoff
  airy_highpass_hz: 6000                # Airy variant: high-pass cutoff
  dark_high_cut_hz: 1500                # Dark variant: aggressive high-cut

  # Swell parameters
  swell_duration_sec: 6.0               # Target duration for swell one-shots
  fade_in_sec: 0.5                      # Fade-in duration for swells
  fade_out_sec: 1.5                     # Fade-out duration for swells

  # Processing options
  pitch_shift_semitones: [0, 7, 12]     # Pitch shifts to apply (semitones)
  time_stretch_factors: [1.0, 1.5, 2.0]  # Time-stretch factors (1.0 = original)
  enable_reversal: true                 # Whether to create reversed variants

# Granular cloud settings
clouds:
  grain_length_min_ms: 50               # Minimum grain length
  grain_length_max_ms: 150              # Maximum grain length
  grains_per_cloud: 200                 # Number of grains per cloud
  cloud_duration_sec: 6.0               # Target output duration
  pitch_shift_range:                    # Pitch shift range for grains (semitones)
    min: -8                             # Minimum pitch shift (negative = lower)
    max: 8                              # Maximum pitch shift (positive = higher)
  overlap_ratio: 0.65                   # Grain overlap (0.5-1.0)
  lowpass_hz: 8000                      # Post-processing low-pass (optional)
  clouds_per_source: 2                  # Number of cloud variations per source

# Hiss / air texture settings
hiss:
  # Hiss loop parameters
  loop_duration_sec: 1.5                # Duration of hiss loops
  highpass_hz: 6000                     # High-pass cutoff for noise
  bandpass_low_hz: 5000                 # Band-pass low cutoff (Hz)
  bandpass_high_hz: 14000               # Band-pass high cutoff (Hz)
  use_bandpass: true                    # Use band-pass instead of high-pass
  tremolo_rate_hz: 3.0                  # Amplitude modulation rate
  tremolo_depth: 0.6                    # Tremolo depth (0-1)
  hiss_loops_per_source: 2              # Number of hiss loop variants

  # Flicker burst parameters
  flicker_min_ms: 50                    # Minimum flicker duration
  flicker_max_ms: 300                   # Maximum flicker duration
  flicker_count: 4                      # Number of flicker one-shots to generate

  # Synthetic noise fallback
  use_synthetic_noise: true             # Use white noise if no drum files
  synthetic_noise_level_db: -10.0       # dB level for synthetic noise

# Export settings (stereo vs mono per category)
export:
  pads_stereo: false                    # Export pads as stereo (default: mono)
  swells_stereo: false                  # Export swells as stereo (default: mono)
  clouds_stereo: false                  # Export clouds as stereo (default: mono)
  hiss_stereo: false                    # Export hiss as stereo (default: mono)

# Brightness tagging settings (dark/mid/bright based on spectral centroid)
brightness_tags:
  enabled: true                         # Enable brightness tagging in filenames
  centroid_low_hz: 1500                 # Centroid below this = "dark"
  centroid_high_hz: 3500                # Centroid above this = "bright"; between = "mid"
