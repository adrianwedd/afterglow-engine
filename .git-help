# Git Workflow Cheat Sheet for Audio Texture Project

## View Recent Commits
git log --oneline -10              # Last 10 commits (compact)
git log --oneline --graph --all    # All commits with graph
git show HEAD                      # Show latest commit details

## After Making Changes

### Stage and Commit
git status                         # See what changed
git diff                          # See exact changes (unstaged)
git diff --cached                 # See exact changes (staged)

git add <file>                    # Stage specific file
git add .                         # Stage all modified files

git commit -m "Brief description"
# Or with multi-line message:
git commit -m "Summary line

Detailed explanation of what changed and why.
Multiple paragraphs are fine.
"

### Common Commit Types
git commit -m "config: Adjust parameter X for better results"
git commit -m "feat: Add new feature to tool X"
git commit -m "fix: Fix bug in cloud generation"
git commit -m "refactor: Reorganize code in module X"
git commit -m "docs: Update documentation for feature X"
git commit -m "test: Add test cases for function X"

## View Changes
git diff HEAD~1 HEAD              # Compare last 2 commits
git diff <commit1> <commit2>      # Compare two commits
git log -p                        # Show commit diffs
git log -- <file>                 # History of specific file

## Undo Changes (BE CAREFUL)
git restore <file>                # Discard changes in working directory
git restore --staged <file>       # Unstage file
git reset HEAD~1                  # Undo last commit (keep changes)
git revert HEAD                   # Create new commit that undoes HEAD

## Example Workflow: After Improving Clouds

1. cp granular_maker_improved.py musiclib/granular_maker.py
2. python make_textures.py --make-clouds
3. (Listen and verify results)
4. git add musiclib/granular_maker.py
5. git commit -m "feat: Improve granular cloud synthesis with quality filtering

   Added smart grain extraction that:
   - Analyzes grain quality (RMS, DC offset, clipping)
   - Preferentially extracts from good regions
   - Applies post-smoothing to reduce artifacts
   - Uses polyphonic grain streams for density
   
   Result: Cleaner, more musical clouds with zero artifacts."
6. git log --oneline -5

## Quick Aliases (Optional)
Add to ~/.gitconfig:
[alias]
    st = status
    co = checkout
    br = branch
    ci = commit
    unstage = restore --staged
    recent = log --oneline -10
    viz = log --oneline --graph --all

Then use:
git st                  # instead of git status
git ci -m "message"     # instead of git commit -m "message"
git recent              # instead of git log --oneline -10

